<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="theme-color" content="#EAF6FF" />
  <link rel="manifest" href="manifest.json" />
  <title>Koala Ormanƒ±</title>
  <style>
    body{margin:0;font-family:-apple-system,system-ui,Arial;background:#EAF6FF;color:#0f172a}
    .wrap{max-width:560px;margin:0 auto;padding:16px}
    .card{background:#fff;border-radius:18px;padding:16px;box-shadow:0 8px 26px rgba(0,0,0,.07)}
    h1{font-size:22px;margin:0 0 10px}
    .sub{opacity:.75;margin:0 0 14px;font-weight:700}
    .ver{display:inline-block;font-size:12px;font-weight:900;padding:6px 10px;border-radius:999px;background:#EAF2FF;color:#1F6FEB}

    .btn{width:100%;border:0;border-radius:14px;padding:14px;margin:10px 0;font-size:16px;font-weight:900;background:#1F6FEB;color:#fff}
    .btn.secondary{background:#EAF2FF;color:#1F6FEB}
    .btn.ghost{background:#F1F5F9;color:#0f172a}

    .row{display:flex;gap:10px;flex-wrap:wrap;margin-top:14px}
    .pill{
      background:#F1F5F9;padding:10px 12px;border-radius:999px;
      font-weight:900; border:1px solid rgba(15,23,42,.06)
    }
    .toast{margin-top:10px;font-weight:900;min-height:24px}
    .hidden{display:none}

    /* GAME */
    .topbar{display:flex;justify-content:space-between;align-items:center;gap:10px}
    .topbar .left{display:flex;gap:10px;flex-wrap:wrap}
    .qcard{background:#fff;border-radius:18px;padding:16px;box-shadow:0 8px 26px rgba(0,0,0,.07);margin-top:12px}
    .q{font-size:40px;font-weight:950;text-align:center;margin:6px 0 8px}
    .hint{text-align:center;opacity:.75;margin:0 0 10px;font-weight:900}
    .ans{font-size:28px;font-weight:950;text-align:center;background:#F8FAFC;border-radius:14px;padding:12px;min-height:38px;border:1px solid rgba(15,23,42,.06)}

    .keypad{display:flex;flex-wrap:wrap;gap:10px;margin-top:12px}
    .key{
      width:calc(33.333% - 6.666px);
      border:1px solid rgba(15,23,42,.08);
      border-radius:14px;padding:14px 0;font-size:18px;font-weight:950;background:#fff
    }
    .key.alt{background:#EAF2FF;color:#1F6FEB;border-color:rgba(31,111,235,.25)}

    /* Micro animations */
    .pulse{animation:pulse .5s ease-in-out 2}
    @keyframes pulse{0%{transform:scale(1)}50%{transform:scale(1.03)}100%{transform:scale(1)}}

    .wave{animation:wave .6s ease-in-out 1}
    @keyframes wave{0%{transform:translateY(0)}40%{transform:translateY(-6px)}100%{transform:translateY(0)}}

    .pop{animation:pop .45s ease-out 1}
    @keyframes pop{0%{transform:scale(.75);opacity:.2}100%{transform:scale(1);opacity:1}}

    .bounce{animation:bounce .75s ease-in-out 2}
    @keyframes bounce{0%{transform:translateY(0)}50%{transform:translateY(-10px)}100%{transform:translateY(0)}}

    /* KOALA cards (bigger + clearer + cuter) */
    .koalaStrip{display:flex;gap:12px;flex-wrap:wrap;margin-top:12px}

    .koala{
      --sz: 64px;
      width:var(--sz);height:var(--sz);
      border-radius:18px;
      position:relative;
      display:flex;align-items:center;justify-content:center;
      box-shadow: 0 10px 22px rgba(0,0,0,.14);
      overflow:hidden;
      border: 2px solid rgba(15,23,42,.12);
      user-select:none;
      transform:translateZ(0);
    }

    /* inner panel to separate koala from bg */
    .koala::before{
      content:"";
      position:absolute; inset: 9px;
      border-radius: 16px;
      background: rgba(255,255,255,.38);
      border: 1px solid rgba(255,255,255,.55);
    }

    /* tiny ears highlight */
    .ears{
      position:absolute; top:8px; left:50%;
      transform:translateX(-50%);
      display:flex; gap:26px;
      pointer-events:none;
    }
    .ear{
      width:16px;height:16px;border-radius:10px;
      background: rgba(255,255,255,.35);
      border:1px solid rgba(15,23,42,.08);
      box-shadow: 0 4px 10px rgba(0,0,0,.08);
    }

    .koFace{
      width:34px;height:34px;border-radius:14px;
      background: rgba(255,255,255,.28);
      border:1px solid rgba(15,23,42,.08);
      display:flex;align-items:center;justify-content:center;
      font-size:18px;font-weight:950;
      z-index:2;
    }

    .nose{
      position:absolute;
      width:18px;height:12px;border-radius:10px;
      background: rgba(15,23,42,.20);
      bottom: 18px;
      z-index:2;
      filter: blur(.0px);
    }

    .acc{
      position:absolute; right:8px; bottom:8px;
      font-size:16px;
      filter: drop-shadow(0 2px 2px rgba(0,0,0,.18));
      z-index:3;
    }

    .lvl{
      position:absolute; left:8px; bottom:8px;
      font-size:12px; font-weight:950;
      padding:4px 8px;border-radius:999px;
      background: rgba(255,255,255,.55);
      border:1px solid rgba(15,23,42,.10);
      z-index:3;
    }

    /* FOREST */
    .forestGrid{display:flex;flex-direction:column;gap:12px;margin-top:12px}
    .tree{
      background:linear-gradient(180deg, rgba(123,228,149,.25), rgba(255,255,255,.98));
      border-radius:18px;padding:12px;
      box-shadow:0 8px 26px rgba(0,0,0,.07);
      border:1px solid rgba(15,23,42,.06)
    }
    .treeHead{display:flex;justify-content:space-between;align-items:center;font-weight:950;margin-bottom:10px}
    .slots{display:grid;grid-template-columns:repeat(4,1fr);gap:10px}
    .slot{
      height:88px;border-radius:18px;background:#F8FAFC;
      display:flex;align-items:center;justify-content:center;
      border:1px dashed rgba(15,23,42,.16)
    }

    /* Make forest koalas a bit bigger */
    .slot .koala{ --sz: 72px; border-radius:20px; }
    .slot .koFace{ width:36px; height:36px; font-size:19px; }

    /* OVERLAY (guaranteed with display:flex) */
    #overlay{
      position:fixed;inset:0;background:rgba(0,0,0,.5);
      display:none;align-items:center;justify-content:center;
      z-index:9999;padding:18px
    }
    #overlayBox{
      background:#fff;padding:18px;border-radius:18px;width:min(560px,100%);
      box-shadow:0 18px 70px rgba(0,0,0,.28);
      text-align:center;position:relative;overflow:hidden
    }
    #overlayBox h2{margin:0 0 6px;font-size:18px}
    #overlayBox p{margin:0 0 12px;opacity:.86;font-weight:900}

    .spark{
      position:absolute; inset:-40px;
      background:
        radial-gradient(circle at 14% 25%, rgba(255,212,122,.65) 0 7px, transparent 8px),
        radial-gradient(circle at 72% 30%, rgba(122,214,161,.65) 0 7px, transparent 8px),
        radial-gradient(circle at 40% 76%, rgba(200,185,255,.65) 0 7px, transparent 8px),
        radial-gradient(circle at 86% 68%, rgba(234,246,255,.98) 0 7px, transparent 8px);
      opacity:.95;
      animation: floaty 2.1s ease-in-out infinite;
      pointer-events:none;
    }
    @keyframes floaty { 0%{ transform: translateY(0);} 50%{ transform: translateY(10px);} 100%{ transform: translateY(0);} }

    .ovRow{display:flex;gap:12px;flex-wrap:wrap;justify-content:center;margin:10px 0 12px}
    .tiny{font-size:12px; opacity:.7; font-weight:900}
  </style>
</head>
<body>
  <div class="wrap">

    <!-- HOME -->
    <div class="card" id="home">
      <div style="display:flex;justify-content:space-between;align-items:center;gap:10px;">
        <h1 style="margin:0;">Peri ve ƒ∞pek‚Äôin Koala Ormanƒ±</h1>
        <span class="ver">v11</span>
      </div>

      <p class="sub">Bug√ºn 5 dakika. √úz√ºlmek yok. Koalalar b√ºy√ºr.</p>

      <button class="btn" onclick="startMode('speed')">Hƒ±z Turu</button>
      <button class="btn" onclick="startMode('target')">Hedef Turu</button>
      <button class="btn" onclick="startMode('boss')">Boss</button>

      <button class="btn secondary" onclick="showForest()">Ormana Bak üå≥</button>

      <div class="row">
        <div class="pill">‚≠ê <span id="stars">0</span></div>
        <div class="pill">üçÉ <span id="leaves">0</span></div>
        <div class="pill">üå≥ <span id="trees">1</span></div>
        <div class="pill">‚ú® XP: <span id="xp">0</span></div>
      </div>

      <div class="koalaStrip" id="homeKoalas"></div>
      <div class="toast" id="toast"></div>
      <div class="tiny">Not: Nadir hayvan oranƒ± %2 ‚Ä¢ Seviye: üå± ‚Üí üåø ‚Üí üçÉ ‚Üí ‚ú®</div>
    </div>

    <!-- GAME -->
    <div id="game" class="hidden">
      <div class="topbar">
        <div class="left">
          <div class="pill">‚≠ê <span id="gStars">0</span></div>
          <div class="pill">üçÉ <span id="gLeaves">0</span></div>
          <div class="pill">‚ú® <span id="gXp">0</span></div>
          <div class="pill"><span id="gIndex">1</span>/<span id="gTotal">10</span></div>
        </div>
        <button class="btn ghost" style="width:auto;margin:0;padding:10px 12px;" onclick="backHome()">Geri</button>
      </div>

      <div class="qcard" id="qcard">
        <p class="hint" id="modeText">Hƒ±z Turu</p>
        <div class="q" id="question">2 √ó 2 = ?</div>
        <div class="ans" id="answerBox">&nbsp;</div>

        <div class="keypad">
          <button class="key" onclick="tap('1')">1</button>
          <button class="key" onclick="tap('2')">2</button>
          <button class="key" onclick="tap('3')">3</button>
          <button class="key" onclick="tap('4')">4</button>
          <button class="key" onclick="tap('5')">5</button>
          <button class="key" onclick="tap('6')">6</button>
          <button class="key" onclick="tap('7')">7</button>
          <button class="key" onclick="tap('8')">8</button>
          <button class="key" onclick="tap('9')">9</button>
          <button class="key alt" onclick="clearAns()">Sil</button>
          <button class="key" onclick="tap('0')">0</button>
          <button class="key alt" onclick="ok()">OK</button>
        </div>

        <div class="toast" id="gToast"></div>
      </div>
    </div>

    <!-- FOREST -->
    <div class="card hidden" id="forest">
      <div style="display:flex;justify-content:space-between;align-items:center;gap:10px;">
        <h1 style="margin:0;">Orman</h1>
        <span class="ver">anim</span>
      </div>

      <p class="sub">Yeni aƒüa√ß a√ßƒ±lƒ±nca ‚Äúpop‚Äù olur. Koalalar topluca sevinir.</p>

      <div class="row">
        <div class="pill">üå≥ <span id="fTrees">1</span></div>
        <div class="pill">üê® <span id="fKoalas">1</span></div>
      </div>

      <div class="forestGrid" id="forestGrid"></div>

      <div class="toast" id="fToast"></div>
      <button class="btn ghost" onclick="backHome()">Geri</button>
    </div>

  </div>

  <!-- OVERLAY -->
  <div id="overlay">
    <div id="overlayBox">
      <div class="spark"></div>
      <h2 id="ovTitle">üéâ</h2>
      <p id="ovText">...</p>
      <div class="ovRow" id="ovRow"></div>
      <button class="btn" onclick="closeOverlay()">Tamam</button>
    </div>
  </div>

<script>
/* ========= STATE ========= */
const SKEY="koala_state_v11";

const PALETTES=["#C8B9FF","#BFE8C6","#A7D8FF","#FFD6E7","#D3D8E6","#FFE7B0","#B7F0FF","#D9FFE1"];
const ACCESSORIES=["","üåø","üå∏","üß£","‚≠ê","üëë"];
const RARE=[
  {name:"Z√ºmr√ºt Tilki", face:"ü¶ä", bg:"#BFE8C6"},
  {name:"Ay Bayku≈üu", face:"ü¶â", bg:"#A7D8FF"},
  {name:"Ay I≈üƒ±ƒüƒ± Panda", face:"üêº", bg:"#D3D8E6"}
];

function rng(seed){ let x=Math.sin(seed)*10000; return x-Math.floor(x); }
function eyesChar(e){ return e===1?"‚Ä¢·¥•‚Ä¢":e===2?"Àò·¥•Àò":"‚Ä¢‚©ä‚Ä¢"; }
function lvlEmoji(l){ return l===1?"üå±":l===2?"üåø":l===3?"üçÉ":"‚ú®"; }

function makeKoala(seed){
  const p=Math.floor(rng(seed)*PALETTES.length);
  const a=Math.floor(rng(seed*7.1)*ACCESSORIES.length);
  const e=1+Math.floor(rng(seed*11.7)*3);
  return {kind:"koala", id:String(seed)+"_"+Math.floor(rng(seed*3.3)*100000), palette:p, accessory:a, eyes:e, lvl:1};
}
function makeRare(seed){
  const r=RARE[Math.floor(rng(seed*9.3)*RARE.length)];
  return {kind:"rare", id:"r_"+String(seed)+"_"+Math.floor(rng(seed*5.5)*100000), name:r.name, face:r.face, bg:r.bg, lvl:1};
}

function loadState(){
  try{
    const raw=localStorage.getItem(SKEY);
    if(raw) return JSON.parse(raw);
  }catch{}
  return {
    stars:0, leaves:0,
    xp:0,
    koalas:[makeKoala(Date.now())],
    trees:1,
    lastTreeEvent:false,   // anim i√ßin
    lastBirthEvent:false   // anim i√ßin
  };
}
const state=loadState();
if(!Array.isArray(state.koalas) || state.koalas.length===0) state.koalas=[makeKoala(Date.now())];
if(typeof state.stars!=="number") state.stars=0;
if(typeof state.leaves!=="number") state.leaves=0;
if(typeof state.xp!=="number") state.xp=0;
if(typeof state.lastTreeEvent!=="boolean") state.lastTreeEvent=false;
if(typeof state.lastBirthEvent!=="boolean") state.lastBirthEvent=false;

function treesNow(){ return Math.max(1, Math.ceil(state.koalas.length/4)); }
function save(){ state.trees=treesNow(); localStorage.setItem(SKEY, JSON.stringify(state)); }
function $(id){ return document.getElementById(id); }

function show(id){
  $("home").classList.add("hidden");
  $("game").classList.add("hidden");
  $("forest").classList.add("hidden");
  $(id).classList.remove("hidden");
}

/* ========= KOALA UI ========= */
function koalaCard(k, big=false){
  const el=document.createElement("div");
  el.className="koala";
  el.style.setProperty("--sz", big ? "72px" : "64px");

  // Ears
  const ears=document.createElement("div");
  ears.className="ears";
  const e1=document.createElement("div"); e1.className="ear";
  const e2=document.createElement("div"); e2.className="ear";
  ears.appendChild(e1); ears.appendChild(e2);

  const face=document.createElement("div");
  face.className="koFace";

  const acc=document.createElement("div");
  acc.className="acc";

  const lvl=document.createElement("div");
  lvl.className="lvl";
  lvl.textContent = lvlEmoji(k.lvl || 1);

  const nose=document.createElement("div");
  nose.className="nose";

  if(k.kind==="rare"){
    el.style.background = k.bg || "#EAF2FF";
    face.textContent = k.face;
    acc.textContent = "‚ú®";
    nose.style.display="none";
  }else{
    el.style.background = PALETTES[k.palette] || PALETTES[0];
    face.textContent = eyesChar(k.eyes);
    acc.textContent = ACCESSORIES[k.accessory] || "";
  }

  el.appendChild(ears);
  el.appendChild(face);
  el.appendChild(nose);
  if(acc.textContent) el.appendChild(acc);
  el.appendChild(lvl);

  return el;
}

function renderHome(){
  $("stars").textContent=state.stars;
  $("leaves").textContent=state.leaves;
  $("trees").textContent=treesNow();
  $("xp").textContent=state.xp;

  const strip=$("homeKoalas");
  strip.innerHTML="";
  for(let i=0;i<Math.min(8, state.koalas.length); i++){
    strip.appendChild(koalaCard(state.koalas[i], false));
  }
}

/* ========= FOREST + TREE ANIMATION ========= */
function renderForest(){
  const trees=treesNow();
  $("fTrees").textContent=trees;
  $("fKoalas").textContent=state.koalas.length;

  const grid=$("forestGrid");
  grid.innerHTML="";

  const shouldAnimateNewTree = state.lastTreeEvent === true;

  for(let t=0;t<trees;t++){
    const tree=document.createElement("div");
    tree.className="tree";

    // yeni aƒüa√ß animasyonu: sadece son aƒüa√ß
    if(shouldAnimateNewTree && t === trees-1){
      tree.classList.add("pop");
    } else if(shouldAnimateNewTree) {
      tree.classList.add("wave");
    }

    const head=document.createElement("div");
    head.className="treeHead";
    head.innerHTML=`<span>Aƒüa√ß ${t+1}</span><span>${t*4+1}‚Äì${Math.min((t+1)*4, state.koalas.length)}</span>`;
    tree.appendChild(head);

    const slots=document.createElement("div");
    slots.className="slots";
    for(let s=0;s<4;s++){
      const idx=t*4+s;
      const slot=document.createElement("div");
      slot.className="slot";
      if(state.koalas[idx]) slot.appendChild(koalaCard(state.koalas[idx], true));
      slots.appendChild(slot);
    }
    tree.appendChild(slots);
    grid.appendChild(tree);
  }

  // anim flag‚Äôi bir kere kullan
  if(state.lastTreeEvent){
    state.lastTreeEvent=false;
    save();
  }
}

/* ========= OVERLAY (GUARANTEED) + BIRTH CELEBRATION ========= */
function openOverlay(title, text, celebrate=false){
  $("ovTitle").textContent=title;
  $("ovText").textContent=text;

  const row=$("ovRow");
  row.innerHTML="";
  const start=Math.max(0, state.koalas.length-4);
  for(let i=start;i<state.koalas.length;i++){
    const kEl = koalaCard(state.koalas[i], true);
    if(celebrate) kEl.classList.add("bounce");
    row.appendChild(kEl);
  }

  $("overlay").style.display="flex";

  // toplu sevin√ß: home strip i√ßindeki kartlara da kƒ±sa bounce
  if(celebrate){
    const homeStrip = $("homeKoalas");
    [...homeStrip.children].forEach((c, idx) => {
      setTimeout(()=> c.classList.add("bounce"), 50*idx);
      setTimeout(()=> c.classList.remove("bounce"), 1300);
    });
  }
}
window.closeOverlay=function(){ $("overlay").style.display="none"; };

/* ========= XP + LEVEL UP ========= */
const XP_PER_LEVEL = 18; // biraz daha sƒ±k seviye atlasƒ±n (moral i√ßin)
const MAX_LVL = 4;

function levelUpOne(){
  // en d√º≈ü√ºk level koalayƒ± y√ºkselt
  let idx=-1, best=999;
  for(let i=0;i<state.koalas.length;i++){
    const k=state.koalas[i];
    const lvl=(k.lvl||1);
    if(lvl < best){ best=lvl; idx=i; }
  }
  if(idx>=0){
    const k=state.koalas[idx];
    if((k.lvl||1) < MAX_LVL){
      k.lvl = (k.lvl||1) + 1;
      return k;
    }
  }
  return null;
}

function addXP(amount){
  let leveledMsg=null;
  state.xp += amount;
  while(state.xp >= XP_PER_LEVEL){
    state.xp -= XP_PER_LEVEL;
    const k = levelUpOne();
    if(k) leveledMsg = "Seviye atladƒ±! " + lvlEmoji(k.lvl);
  }
  return leveledMsg;
}

/* ========= BIRTHS (15 stars) + RARE (%2) ========= */
function ensureBirths(){
  const should = 1 + Math.floor(state.stars/15);
  let born=null, any=0;

  const oldTrees=treesNow();

  while(state.koalas.length < should){
    const seed=Date.now() + state.koalas.length*999 + Math.floor(Math.random()*9999);
    const rare = Math.random() < 0.02; // %2
    const baby = rare ? makeRare(seed) : makeKoala(seed);
    state.koalas.push(baby);
    born=baby; any++;
  }

  const newTrees=treesNow();
  const treeOpened = newTrees > oldTrees;

  return {any, born, treeOpened};
}

/* ========= GAME ========= */
const game={ mode:"speed", total:10, index:0, a:2, b:2, typed:"", startMs:0 };

function cfg(mode){
  if(mode==="speed") return {total:12, label:"Hƒ±z Turu"};
  if(mode==="target") return {total:10, label:"Hedef Turu"};
  return {total:20, label:"Boss"};
}
function leavesFor(ms){ return ms<2500?2:ms<4000?1:0; }
function rand2to9(){ return Math.floor(Math.random()*8)+2; }

function nextQ(){
  game.typed="";
  $("answerBox").innerHTML="&nbsp;";
  $("gToast").textContent="";

  game.a=rand2to9();
  game.b=rand2to9();
  $("question").textContent=`${game.a} √ó ${game.b} = ?`;
  game.startMs=Date.now();

  $("gStars").textContent=state.stars;
  $("gLeaves").textContent=state.leaves;
  $("gXp").textContent=state.xp;
  $("gIndex").textContent=game.index+1;
  $("gTotal").textContent=game.total;
}

/* ========= GLOBAL BUTTON FUNCTIONS ========= */
window.startMode=function(mode){
  const c=cfg(mode);
  game.mode=mode;
  game.total=c.total;
  game.index=0;
  $("modeText").textContent=c.label;
  show("game");
  nextQ();
};

window.backHome=function(){
  show("home");
  renderHome();
  $("toast").textContent="";
};

window.showForest=function(){
  show("forest");
  renderForest();
  $("fToast").textContent="Orman burada üå≥";
};

window.tap=function(d){
  if(game.typed.length>=3) return;
  game.typed+=d;
  $("answerBox").textContent=game.typed;
};

window.clearAns=function(){
  game.typed="";
  $("answerBox").innerHTML="&nbsp;";
};

window.ok=function(){
  const ans=Number(game.typed);
  if(Number.isNaN(ans)){ $("gToast").textContent="Bir sayƒ± yaz üôÇ"; return; }

  const correct=game.a*game.b;
  const dt=Date.now()-game.startMs;

  let xpGain=0;

  if(ans===correct){
    state.stars += 1;
    const l=leavesFor(dt);
    state.leaves += l;

    // XP: doƒüru 2, hƒ±z bonusu +1/+2
    xpGain = 2 + (l===2 ? 2 : l===1 ? 1 : 0);
    const msg = (l===2)?"√áok hƒ±zlƒ±! üçÉüçÉ":(l===1)?"Hƒ±zlƒ±! üçÉ":"Doƒüru! üê®";
    $("gToast").textContent = msg + `  +${xpGain}XP`;
  }else{
    $("gToast").textContent = `Cevap: ${correct}`;
    xpGain = 0;
  }

  // XP + level up
  let lvlMsg=null;
  if(xpGain>0) lvlMsg = addXP(xpGain);

  // births / tree
  const births=ensureBirths();
  if(births.treeOpened) state.lastTreeEvent=true;

  save();

  $("gStars").textContent=state.stars;
  $("gLeaves").textContent=state.leaves;
  $("gXp").textContent=state.xp;

  const qc=$("qcard");
  qc.classList.remove("pulse"); void qc.offsetWidth; qc.classList.add("pulse");

  // Overlay priority: new tree > rare birth > normal birth > level-up
  if(births.any>0){
    if(births.treeOpened){
      openOverlay("Yeni aƒüa√ß a√ßƒ±ldƒ±! üå≥‚ú®", "Orman geni≈üledi. Koalalar topluca sevindi!", true);
    }else if(births.born && births.born.kind==="rare"){
      openOverlay("Nadir bir misafir geldi! ‚ú®", births.born.name + " ormana uƒüradƒ±.", true);
    }else{
      openOverlay("Yeni koala doƒüdu! üéâ", "Ho≈ü geldin k√º√ß√ºk koala!", true);
    }
  }else if(lvlMsg){
    openOverlay("Koala b√ºy√ºd√º! ‚ú®", lvlMsg, true);
  }

  game.index += 1;
  if(game.index>=game.total){
    setTimeout(()=>{ window.backHome(); $("toast").textContent="Tur bitti üåø"; }, 300);
  }else{
    setTimeout(()=>nextQ(), 300);
  }

  // home/forest sayƒ±larƒ± g√ºncel kalsƒ±n
  renderHome();
};

/* INIT */
save();
renderHome();
$("toast").textContent="Hazƒ±r ‚úÖ";
</script>
</body>
</html>
